<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><title>Lintian::Lab</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >

<script type="text/javascript" src="../_podly.js"></script>

</head>
<body class='pod'>

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#CLASS_METHODS'>CLASS METHODS</a>
  <li class='indexItem indexItem1'><a href='#INSTANCE_METHODS'>INSTANCE METHODS</a>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Lintian::Lab -- Interface to the Lintian Lab</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre> use Lintian::Lab;
 
 my $lab = Lintian::Lab-&#62;new;

 if (!$lab-&#62;exists) {
     $lab-&#62;create;
 }
 $lab-&#62;open;
 $lab-&#62;close;</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>This module provides an abstraction from &#34;How and where&#34; packages are placed. It handles creation and deletion of the Lintian Lab itself as well as providing access to the entries.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CLASS_METHODS"
>CLASS METHODS</a></h1>

<dl>
<dt><a name="new"
>new</a></dt>

<dd>
<p>Creates a new Lab instance. The lab will be temporary and will point to a temporary directory.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="INSTANCE_METHODS"
>INSTANCE METHODS</a></h1>

<dl>
<dt><a name="is_open"
>is_open</a></dt>

<dd>
<p>Returns a truth value if this lab is open.</p>

<p>Note: If the lab is open, it also exists. However, if the lab is closed then the lab may or may not exist (see <a href="#exists" class="podlinkpod"
>&#34;exists&#34;</a>).</p>

<dt><a name="exists"
>exists</a></dt>

<dd>
<p>Returns a truth value if the instance points to an existing lab.</p>

<p>Note: This never implies that the lab is open. Though it may imply the lab is closed (see <a href="#is_open" class="podlinkpod"
>&#34;is_open&#34;</a>).</p>

<dt><a name="get_package_(PROC)"
>get_package (PROC)</a></dt>

<dd>
<p>Fetches an existing package from the lab.</p>

<p>The first argument must be a <a href="../Lintian/Processable.html" class="podlinkpod"
>processable</a>.</p>

<dt><a name="create_([OPTS])"
>create ([OPTS])</a></dt>

<dd>
<p>Creates a basic empty lab. Will also set up the temporary dir for the lab.</p>

<p>The lab will <i>not</i> be opened by this method. This should be done afterwards by invoking the <a href="#open" class="podlinkpod"
>&#34;open&#34;</a> method.</p>

<p>OPTS (if present) is a hashref containing options. The following options are accepted:</p>

<dl>
<dt><a name="keep-lab"
>keep-lab</a></dt>

<dd>
<p>If &#34;keep-lab&#34; points to a truth value the temporary directory will <i>not</i> be removed by closing the lab (nor exiting the application). However, explicitly calling <a href="#remove" class="podlinkpod"
>&#34;remove&#34;</a> will remove the lab.</p>

<dt><a name="mode"
>mode</a></dt>

<dd>
<p>If present, this will be used as mode for creating directories. Will default to 0777 if not specified. It is passed to mkdir and is thus subject to umask settings.</p>
</dd>
</dl>

<p>Note: This does nothing if the lab appears to already exists.</p>

<dt><a name="open"
>open</a></dt>

<dd>
<p>Opens the lab and reads the contents into caches. If the lab does not exist, this method will call create to initialize it.</p>

<p>This will croak if the lab is already open. It may also croak for the same reasons as <a href="#create" class="podlinkpod"
>&#34;create&#34;</a>.</p>

<p>Note: It is not possible to pass options to the creation of the lab. If special options are required, please use <a href="#create" class="podlinkpod"
>&#34;create&#34;</a> directly.</p>

<dt><a name="close"
>close</a></dt>

<dd>
<p>Close the lab - the lab can no longer be used. All references to entries in the lab should be considered invalid.</p>

<p>Note: The lab will be deleted unless it was created with &#34;keep-lab&#34; (see <a href="#create" class="podlinkpod"
>&#34;create&#34;</a>).</p>

<dt><a name="remove"
>remove</a></dt>

<dd>
<p>Removes the lab and everything in it. Any reference to an entry returned from this lab will immediately become invalid.</p>

<p>The lab root dir will be removed as well on success.</p>

<p>On success, this will return a truth value. The directory path will be set to the empty string.</p>

<p>On error, this method will croak.</p>

<p>If the lab has already been removed (or does not exist), this will return a truth value.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Niels Thykier &#60;niels@thykier.net&#62;</p>

<p>Based on the work of various others.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
